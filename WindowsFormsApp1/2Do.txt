NOTES
=====

27.09	Better Exception handling + full statemachine
25.09	Working in soft
18.09	Combined Device/Rotor control into single app (v3)
11.09	Version 2.0 complete (Current Version)
10.09	Switched from event driven to polling to reduce dependency on unstable devices.
28.06	Monitor -> object oriented
25.03	Version 1.0 complete (Current Version)
22.03	External Trigger/Clock
09.03	TwinLogger Start
18.01	Project Start

>NOTE
TESTING, SOFTDEVICE (Remove from live versions!)

>Device Stability
Supposed to be thread safe. Perhaps should marshal the calls (especially from accelerometer poller). See bool mutex in myaio


>FUTURE
>lock returns power levels (RL)
(LOCK uses 10s min/max power levels)
ACK klock -> process if good -> trigger
Power (0-100) alter as needed


>THREAD
Triggers go in pairs (next experiment triggers immediately then next waits)

>Serial
.Check ADC being sent
.Really should wait for Freq to return to ensure we agree on what we are aiming for

GUI
.Pancake/vertical (hard code the M1-6)
.Daves improved freq selection (at least bump up lowest + interval a selection based on range)
.Limit Sample Freq 500,1000,1500,2000


>DRIVER
.Check caio on toughbook






start freq/boost other (list in steps)




Finally. Stop/clear devices on exception
26/9/2018	oops start fired twice! Ensure can't fire when running! (indeed all user events fire at right time)
limit ADC

mapping is from local file, switch top setup data.

Currently other info extract from setup.


>Fixing hung devices
Try AioExit() and rediscover devices()



===


NOTE update default!
//////////////////////////////////////////////////////////////////////////
//Just acknowledge a convertion stage in Scope for now!
Standardise DATA format! See scope format. Why not use this throughout!

DATA format problem:

DATA concats into:
Device1 => data list1 
Device2 => data list1 

-> converted into SCOPEDATA
Tick1 => {dev1:ch1, ch2, ch3,...,dev2: cha1,..., devN:chaM}
Tick2 => {dev1:ch1, ch2, ch3,...,dev2: cha1,..., devN:chaM}

-> save

-> scope needs this format.

???????????????????????????????????
???Any reason for GetData not to generate this format???
???????????????????????????????????



1) Load/Scope

Need to think about how to separate these.
If you load -> what is loaded. If we load all the header what about current device status
e.g. load a 2 device file, when only 1 device connected?
Do we override the current state?
When you run scope it needs to know the number devices.


>Load could automatically scope external files to separate data
>Scope could only work with most recent acquisistion.

If we mix them problems.



2) modified





//Settings
m1-m8
clip status
load
pads (3)
mass radius
shaker type (3 types) 

set freq at end
excitation freq (achieved)



-7/9/2018
Do some data checking.
if count(1) - count(0) goes too far astray then a device has failed.
timeout
> count data coming in for each device. At end is it ok

